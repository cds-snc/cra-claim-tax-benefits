Creates a fully managed postgresql database on Azure. Outputs the name and id of created database.

Default values configurable via variables:
- Postgresql version: 11
- Geo redundant backup: Disabled
- Retention days: 30
- Auto grow storage: Enabled
- Storage: 5 GB
- SKU capacity: 2 (compute units)
- SKU name: GP_Gen5_2 (general purpose 5th generation with 2 vCores)

# Usage

Initialize a working directory containing Terraform configuration files
`terraform init`

Create an execution plan. Terraform performs a refresh, unless explicitly disabled, and then determines what actions are necessary to achieve the desired state specified in the configuration files.
`terraform plan`

Apply the changes required to reach the desired state of the configuration, or the pre-determined set of actions generated by a terraform plan execution plan.
`terraform apply`

Terraform now created the database server, with a database inside it. The password is automatically generated by Terraform and will **not** be printed in the console. See `terraform.tfstate` for the generated password, which is **not** versioned in Git.

For instance:

```
... snip ...
 "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "administrator_login": "ctb",
            "administrator_login_password": "THE PASSWORD IS HERE",
            "fqdn": "claim-tax-benefits-pg.postgres.database.azure.com",
            "id": "/subscriptions/fdf5725d-ea40-468e-81dd-aa1220910f75/resourceGroups/cdscracollab-innovation-rg/providers/Microsoft.DBforPostgreSQL/servers/claim-tax-benefits-pg",
            "location": "canadacentral",
... snip ...
```

# Accessing the database from outside your machine

Add a new firewall rule to allow your IP address to access the database. 

https://docs.microsoft.com/en-us/azure/postgresql/howto-manage-firewall-using-cli

Remove it once you are done so only Azure internal services can access the database.
