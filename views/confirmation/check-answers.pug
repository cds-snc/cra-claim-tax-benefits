extends ../base
include ../_includes/address

block variables
  -var title = __('Check your answers before filing')

block content

  h1 #{title}

  each section, index in answerInfo
    div
      .breakdown-table.breakdown-table--answers
        h2.breakdown-table__heading #{__(index)}
        dl.breakdown-table-data
          each row in section
            if (data.login.securityQuestion === '/checkAnswers' && !row.text.toLowerCase().includes('income')) || (data.login.securityQuestion !== '/checkAnswers') || (!data.login.securityQuestion)
              .breakdown-table__row.breakdown-table__row--answers
                dt.breakdown-table__row-key #{__(row.text)}

                if (row.text.toLowerCase().includes('address'))
                  dd.breakdown-table__row-value
                    +address(data)
                else

                  //- we don't want to translate the name, dollar amounts, or birthday (formatting the birthday is done prior to hitting the template in checkAnswersFormat)
                  if (row.text.toLowerCase().includes('name') || row.data.includes('$') || row.text.toLowerCase().includes('birth'))
                    dd.breakdown-table__row-value #{row.data}
                  else
                    dd.breakdown-table__row-value #{__(row.data)}

                dd.breakdown-table__row-link
                  if row.urlPath
                    a(href=`${row.urlPath}?ref=checkAnswers`)
                      <span>#{__('Review')}<span class="visually-hidden"> #{__(row.text)}</span>

  +linkButtons('/review', 'Agree')